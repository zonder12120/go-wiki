---
order: 11.5
title: Контекст
---

**Контекст** в Go – это механизм для передачи сигналов и информации между частями программы, особенно между работающими горутинами. Он позволяет управлять временем выполнения задач (задавать таймауты), обрабатывать отмену выполнения задач, а также передавать дополнительные данные (например, метаданные).

Для примера представим ситуацию: Мы запускаем горутинку, которая выполняет запрос к внешнему ресурсу (например, к БД). От ответа БД зависят другие горутины, работающие с этим результатом. Если база данных отвечает слишком долго или вовсе недоступна, нам нужно прекратить выполнение всех этих зависимых операций, чтобы не тратить ресурсы программы впустую.

Именно в таких ситуациях помогает контекст: с его помощью мы можем задать таймаут для операции, а затем передать его в связанные горутины. Если истечёт заданное время или операция будет отменена, горутины сразу же получат сигнал завершить свою работу. Это делает нашу программу более управляемой и эффективной.

## Дерево контекста

По сути у нас есть такое вот дерево:

```Plaintext
context.Background() 
│
│
├── context.WithCancel()
│   ├── context.WithTimeout()
│   └── context.WithDeadline()
│
└── context.WithValue()
│
│
context.TODO()
```

Как это работает?

У нас есть базовый пустой контекст, который мы должны создать – `context.Background()`

Таким образом мы просто создаём оболочку для нашего контекста, в которую мы можем запихать всё, что нам нужно. Обычно он создаётся на самом верхнем уровне, например в `main`.

Далее, по иерархии вниз мы можем передавать в этот контекст что угодно. Как условия для завершения, так и 

 